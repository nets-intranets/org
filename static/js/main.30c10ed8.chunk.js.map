{"version":3,"sources":["App.js","index.js"],"names":["ORGURL","window","location","search","substring","useStyles","makeStyles","theme","root","background","display","borderRadius","expand","transform","marginTop","marginLeft","transition","transitions","create","duration","short","expandOpen","avatar","backgroundColor","Organization","_ref","org","onCollapse","collapsed","classes","_React$useState","React","useState","_React$useState2","Object","slicedToArray","_useDrop","useDrop","accept","drop","name","tradingName","collect","monitor","isOver","canDrop","_useDrop2","_useDrop2$","react_default","a","createElement","Card","variant","className","ref","style","minWidth","CardHeader","Tooltip","title","concat","_","size","organizationChildRelationship","account","arrow","Badge","cursor","color","anchorOrigin","vertical","horizontal","showZero","invisible","overlap","badgeContent","onClick","CardContent","Typography","gutterBottom","component","manager","Box","sx","typography","fontSize","counters","internal","external","temporary","IconButton","clsx","defineProperty","ExpandMore_default","Account","_ref2","_useDrag","useDrag","item","type","end","dropResult","getDropResult","alert","isDragging","_useDrag2","drag","opacity","Avatar","AccountBalance_default","Node","_ref4","o","parent","_React$useState3","_React$useState4","setCollapsed","handleCollapse","useEffect","T","TreeNode","props","index_module","assign","lineWidth","lineColor","lineBorderRadius","children","label","map","c","createMuiTheme","palette","fontFamily","App","_useState","_useState2","error","_useState3","localdata","_useState4","organization","message","ThemeProvider","padding","DndProvider","backend","HTML5Backend","rootElement","document","getElementById","ReactDOM","render","App_App"],"mappings":"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","file":"static/js/main.30c10ed8.chunk.js","sourcesContent":["import { useEffect, useState } from 'react'\nimport React from 'react'\nimport cx from 'clsx';\nimport { Tree, TreeNode } from \"react-organizational-chart\";\nimport _ from \"lodash\";\nimport clsx from \"clsx\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport BusinessIcon from \"@material-ui/icons/Business\";\nimport MailIcon from \"@material-ui/icons/MailTwoTone\";\nimport AccountBalanceIcon from \"@material-ui/icons/AccountBalance\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Menu from \"@material-ui/core/Menu\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { DndProvider } from \"react-dnd\";\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\nimport { useDrag, useDrop } from \"react-dnd\";\nimport useSWR from \"swr\"\nimport axios from \"axios\"\nimport localdata from \"./org.json\";\nimport {\n  createMuiTheme,\n  makeStyles,\n  ThemeProvider\n} from \"@material-ui/core/styles\";\nimport \"./App.css\"\n\nvar ORGURL = window.location.search.substring(1) // \"https://netszbar.blob.core.windows.net/hexatown/organisation/2021-12-09-json?sp=r&st=2021-12-09T19:50:21Z&se=2099-12-10T03:50:21Z&spr=https&sv=2020-08-04&sr=b&sig=5DbuJAWw6StvYWF4kpzwyBYn6Tk3mvNv9%2BfdENwdaB0%3D\"\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    background: \"white\",\n    display: \"inline-block\",\n    borderRadius: 16\n  },\n  expand: {\n    transform: \"rotate(0deg)\",\n    marginTop: -10,\n    marginLeft: \"auto\",\n    transition: theme.transitions.create(\"transform\", {\n      duration: theme.transitions.duration.short\n    })\n  },\n  expandOpen: {\n    transform: \"rotate(180deg)\"\n  },\n  avatar: {\n    backgroundColor: \"#ECECF4\"\n  }\n}));\n\nfunction Organization({ org, onCollapse, collapsed }) {\n  const classes = useStyles();\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n  const [{ canDrop, isOver }, drop] = useDrop({\n    accept: \"account\",\n    drop: () => ({ name: org.tradingName }),\n    collect: (monitor) => ({\n      isOver: monitor.isOver(),\n      canDrop: monitor.canDrop()\n    })\n  });\n  const isActive = canDrop && isOver;\n  let backgroundColor = \"white\";\n  if (isActive) {\n    backgroundColor = \"#ddffd2\";\n  } else if (canDrop) {\n    backgroundColor = \"#ffeedc\";\n  }\n  return (\n    <Card\n      variant=\"outlined\"\n\n      className={classes.root}\n      ref={drop}\n      style={{ backgroundColor, minWidth: \"200px\" }}\n    >\n      <CardHeader\n        avatar={\n          <Tooltip\n            title={`${_.size(\n              org.organizationChildRelationship\n            )} Sub Profile, ${_.size(org.account)} Sub Account`}\n            arrow\n          >\n            <Badge\n              style={{ cursor: \"pointer\" }}\n              color=\"secondary\"\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\"\n              }}\n              showZero\n              invisible={true /*!collapsed || _.size(org.organizationChildRelationship)<1*/}\n              overlap=\"circle\"\n              badgeContent={_.size(org.organizationChildRelationship)}\n              onClick={onCollapse}\n            >\n              {/* <Avatar className={classes.avatar}>\n                <BusinessIcon color=\"primary\" />\n              </Avatar> */}\n            </Badge>\n          </Tooltip>\n        }\n        title={org.tradingName}\n      // action={\n      //   <IconButton size=\"small\" onClick={handleClick}>\n      //     <MoreVertIcon />\n      //   </IconButton>\n      // }\n      />\n      <CardContent>\n        <Typography variant=\"subtitle1\" gutterBottom component=\"div\">\n          {org.manager}\n        </Typography>\n        <Typography variant=\"subtitle2\" gutterBottom component=\"div\">\n\n\n          <Box sx={{ typography: 'body2' , fontSize: 10 }}>\n           {org.counters ? org.counters.internal  : \"\"}|{org.counters ? org.counters.external  : \"\"}|{org.counters ? org.counters.temporary  : \"\"}\n           </Box>\n          \n        </Typography>\n\n\n      </CardContent>\n\n      {/* <Menu open={Boolean(anchorEl)} anchorEl={anchorEl} onClose={handleClose}>\n        <MenuItem onClick={handleClose}>\n          <ListItemIcon>\n            <BusinessIcon color=\"primary\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Add Sub Profile\" />\n        </MenuItem>\n        <MenuItem onClick={handleClose}>\n          <ListItemIcon>\n            <AccountBalanceIcon color=\"secondary\" />\n          </ListItemIcon>\n          <ListItemText primary=\"Add Sub Account\" />\n        </MenuItem>\n      </Menu> */}\n      <IconButton\n        size=\"small\"\n        onClick={onCollapse}\n        className={clsx(classes.expand, {\n          [classes.expandOpen]: !collapsed\n        })}\n      >\n        {_.size(org.organizationChildRelationship) > 0 &&\n          <ExpandMoreIcon />}\n      </IconButton>\n    </Card>\n  );\n}\nfunction Account({ a }) {\n  const classes = useStyles();\n  const [{ isDragging }, drag] = useDrag({\n    item: { name: a.name, type: \"account\" },\n    end: (item, monitor) => {\n      const dropResult = monitor.getDropResult();\n      if (item && dropResult) {\n        alert(`You moved ${item.name} to ${dropResult.name}`);\n      }\n    },\n    collect: (monitor) => ({\n      isDragging: monitor.isDragging()\n    })\n  });\n  const opacity = isDragging ? 0.4 : 1;\n  return (\n    <Card\n      variant=\"outlined\"\n      className={classes.root}\n      ref={drag}\n      style={{ cursor: \"pointer\", opacity }}\n    >\n      <CardHeader\n        avatar={\n          <Avatar className={classes.avatar}>\n            <AccountBalanceIcon color=\"secondary\" />\n          </Avatar>\n        }\n        title={a.name}\n      />\n    </Card>\n  );\n}\nfunction Product({ p }) {\n  const classes = useStyles();\n  return (\n    <Card variant=\"outlined\" className={classes.root}>\n      <CardContent>\n        <Typography variant=\"subtitle2\">{p.name}</Typography>\n      </CardContent>\n    </Card>\n  );\n}\nfunction Node({ o, parent }) {\n  const [collapsed, setCollapsed] = React.useState(o.collapsed);\n  const handleCollapse = () => {\n    setCollapsed(!collapsed);\n  };\n  React.useEffect(() => {\n    o.collapsed = collapsed;\n  });\n  const T = parent\n    ? TreeNode\n    : (props) => (\n      <Tree\n        {...props}\n        lineWidth={\"2px\"}\n        lineColor={\"#bbc\"}\n        lineBorderRadius={\"12px\"}\n      >\n        {props.children}\n      </Tree>\n    );\n  return collapsed ? (\n    <T\n      label={\n        <Organization\n          org={o}\n          onCollapse={handleCollapse}\n          collapsed={collapsed}\n        />\n      }\n    />\n  ) : (\n    <T\n      label={\n        <Organization\n          org={o}\n          onCollapse={handleCollapse}\n          collapsed={collapsed}\n        />\n      }\n    >\n      {_.map(o.account, (a) => (\n        <TreeNode label={<Account a={a} />}></TreeNode>\n      ))}\n      {_.map(o.organizationChildRelationship, (c) => (\n        <Node o={c} parent={o} />\n      ))}\n    </T>\n  );\n}\nconst theme = createMuiTheme({\n  palette: {\n    background: \"#ECECF4\"\n  },\n  fontFamily: \"Roboto, sans-serif\"\n});\n\n\n\nexport default function App(props) {\n\n\n  const [error, setError] = useState(null);\n  const [organization, setOrganization] = useState(localdata);\n\n\n  // useEffect(() => {\n\n  //   axios.get(ORGURL).then(result => {\n\n  //     setOrganization(result.data)}).catch(e => setError(e.message))\n\n\n  // });\n\n  if (error) return <div><div>failed to load {error.message}\n  </div>\n    <div>\n      {ORGURL}\n    </div>\n  </div>\n  if (!organization) return <div>loading...</div>\n  return (\n    <ThemeProvider theme={theme}>\n      <Box padding={4}>\n        <DndProvider backend={HTML5Backend}>\n          <div>\n\n\n            {organization &&\n              <Node o={organization} />\n            }\n\n          </div>\n        </DndProvider>\n      </Box>\n    </ThemeProvider>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}